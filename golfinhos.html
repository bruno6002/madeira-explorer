<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Observação de Golfinhos - Madeira Explorer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <header class="main-header">
        <div class="logo-container">
            <a href="index.html" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 10px;">
                <div style="background: var(--bg-secondary); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <i class="fa-solid fa-arrow-left"></i>
                </div>
                <span class="font-bold">Voltar</span>
            </a>
        </div>
        <div class="hamburger"><i class="fa-solid fa-bars"></i></div>
        <nav class="main-nav">
            <ul>
                <li><a href="index.html">Início</a></li>
                <li><a href="index.html#experiencias">Explorar</a></li>
                <li><a href="#">Ajuda</a></li>
            </ul>
        </nav>
        <div class="user-actions">
            <button id="theme-toggle" class="icon-btn"><i class="fa-solid fa-moon"></i></button>
            <button class="icon-btn" onclick="adicionarFavorito()"><i class="fa-regular fa-heart"></i></button>
            <a href="carrinho.html" class="icon-btn" style="text-decoration:none; color:inherit;"><i class="fa-solid fa-cart-shopping"></i></a>
        </div>
    </header>

    <main class="grid-layout">
        <section class="full-width">
            <div class="detail-hero" style="background-image: url('assets/img/golfinhos.jpg');">
                <div class="detail-hero-content">
                    <h1 style="font-size: 2.5rem; margin-bottom: 10px; text-shadow: 0 2px 4px rgba(0,0,0,0.5);">Observação de Cetáceos</h1>
                    <div style="display: flex; gap: 20px; align-items: center;">
                        <span><i class="fa-solid fa-location-dot"></i> Marina do Funchal</span>
                        <span><i class="fa-solid fa-star text-gold"></i> 4.8 (84 avaliações)</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="details-content">
            <div style="margin-bottom: 30px;">
                <h2>Sobre esta atividade</h2>
                <p>Embarque num catamarã confortável para observar golfinhos e baleias no seu habitat natural.</p>
            </div>
            <div class="highlights" style="margin-bottom: 30px;">
                <h3>O que está incluído</h3>
                <ul>
                    <li><i class="fa-solid fa-check"></i> Viagem de Catamarã (3h)</li>
                    <li><i class="fa-solid fa-check"></i> Biólogo Marinho a bordo</li>
                    <li><i class="fa-solid fa-check"></i> Garantia de avistamento</li>
                    <li><i class="fa-solid fa-check"></i> Equipamento de Snorkeling</li>
                </ul>
            </div>
            <div class="faq-section">
                <h3>Perguntas Frequentes</h3>
                <details>
                    <summary>Enjoa muito?</summary>
                    <p>O catamarã é muito estável.</p>
                </details>
                <details>
                    <summary>É garantido ver golfinhos?</summary>
                    <p>Temos uma taxa de sucesso de 95%. Se não virmos nada, oferecemos outra viagem!</p>
                </details>
            </div>
        </section>

        <aside class="booking-sidebar">
            <span class="price-tag">45€ <small>/pessoa</small></span>
            <form class="booking-form">
                <div class="input-group">
                    <label>Data</label>
                    <input type="date" required style="background: var(--bg-primary);">
                </div>
                <div class="input-group">
                    <label>Participantes</label>
                    <select style="background: var(--bg-primary); padding: 12px; width: 100%; border-radius: 8px; border: 2px solid #ccc;">
                        <option>1 Adulto</option>
                        <option>2 Adultos</option>
                    </select>
                </div>
                <button type="button" class="btn-reserva" onclick="adicionarCarrinho()" style="width: 100%; margin-top: 10px; padding: 15px; font-size: 1.1rem;">
                    Reservar Lugar
                </button>
            </form>
            <p style="margin-top: 15px; text-align: center; font-size: 0.8rem; opacity: 0.7;"><i class="fa-solid fa-shield-halved"></i> Cancelamento grátis até 24h antes.</p>
        </aside>
    </main>

    <footer class="main-footer"><p>&copy; 2026 Madeira Explorer</p></footer>

    <script>
        const hamburger = document.querySelector('.hamburger'); const nav = document.querySelector('.main-nav');
        if(hamburger) { hamburger.addEventListener('click', () => { nav.classList.toggle('active'); }); }
        const themeBtn = document.getElementById('theme-toggle'); const html = document.documentElement; const icon = themeBtn.querySelector('i');
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') { html.classList.add('dark-mode'); icon.classList.replace('fa-moon', 'fa-sun'); }
        themeBtn.addEventListener('click', () => { html.classList.toggle('dark-mode');
            if (html.classList.contains('dark-mode')) { icon.classList.replace('fa-moon', 'fa-sun'); localStorage.setItem('theme', 'dark'); } 
            else { icon.classList.replace('fa-sun', 'fa-moon'); localStorage.setItem('theme', 'light'); }
        });

        // CARRINHO E FAVORITOS (ESPECÍFICO PARA GOLFINHOS)
        const infoProduto = {
            nome: "Observação de Golfinhos",
            preco: 45,
            imagem: "https://images.unsplash.com/photo-1548695029-796d19485b01?auto=format&fit=crop&w=800"
        };

        function adicionarCarrinho() {
            const inputData = document.querySelector('input[type="date"]');
            const dataSelecionada = inputData ? inputData.value : "";
            if(!dataSelecionada) { alert("Por favor, selecione uma data."); return; }
            let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            carrinho.push({ nome: infoProduto.nome, preco: infoProduto.preco, imagem: infoProduto.imagem, data: dataSelecionada });
            localStorage.setItem('carrinho', JSON.stringify(carrinho));
            const btn = document.querySelector('.btn-reserva');
            btn.innerText = "Adicionado! ✓"; btn.style.backgroundColor = "#009B4D";
            setTimeout(() => { btn.innerText = "Reservar Lugar"; btn.style.backgroundColor = ""; }, 2000);
        }

        function adicionarFavorito() {
            let favoritos = JSON.parse(localStorage.getItem('favoritos')) || [];
            if(!favoritos.some(item => item.nome === infoProduto.nome)) {
                favoritos.push(infoProduto);
                localStorage.setItem('favoritos', JSON.stringify(favoritos));
                alert("Adicionado aos Favoritos! ❤️");
            } else { alert("Já está nos favoritos!"); }
        }
    </script>
</body>
</html>